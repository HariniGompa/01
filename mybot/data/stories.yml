version: "3.1"

stories:
# --- Basic Conversation Flows ---
- story: User greets bot
  steps:
    - intent: greet
    - action: utter_greet

- story: User says goodbye
  steps:
    - intent: goodbye
    - action: utter_goodbye
    - action: action_restart

- story: User thanks the bot
  steps:
    - intent: thank_you
    - action: utter_thank_you

- story: Bot challenge
  steps:
    - intent: bot_challenge
    - action: utter_iamabot

# --- Loan Application Flow ---
- story: Start loan application
  steps:
    - intent: ask_loan_eligibility
    - action: utter_explain_loan_process
    - action: loan_application_form
    - active_loop: loan_application_form

- story: Complete loan application
  steps:
    - intent: provide_information
    - action: loan_application_form
    - active_loop: loan_application_form

- story: Loan form submitted
  steps:
    - active_loop: loan_application_form
    - action: loan_application_form
    - active_loop: null
    - action: action_submit_loan_application

# --- Loan Information Flows ---
- story: Loan closure information
  steps:
    - intent: ask_loan_closure_process
    - action: utter_loan_closure_info

- story: Check application status
  steps:
    - intent: ask_application_status
    - action: action_check_application_status

- story: Ask about required documents
  steps:
    - intent: ask_required_documents
    - action: utter_required_documents

# --- Eligibility Queries ---
- story: Ask about eligibility criteria
  steps:
    - intent: ask_eligibility_age
    - action: utter_eligibility_age

- story: Ask about income requirements
  steps:
    - intent: ask_eligibility_income
    - action: utter_eligibility_income

# --- Fallback Handling ---
- story: Out of scope question
  steps:
    - intent: out_of_scope
    - action: utter_out_of_scope

- story: Fallback when intent not clear
  steps:
    - intent: fallback
    - action: utter_ask_rephrase
